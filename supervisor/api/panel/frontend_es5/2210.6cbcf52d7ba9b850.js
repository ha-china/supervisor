"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["2210"],{31783:function(a,t,r){r.a(a,async function(a,s){try{r.r(t);var e,i,o,c,n,u=r(29694),l=r(75778),h=r(54982),p=r(54521),_=r(4490),d=r(20129),k=r(85297),g=(r(12212),r(73742)),v=(r(98334),r(59048)),b=r(7616),m=r(39884),f=r(78206),y=(r(12942),r(6514)),w=r(83378),B=r(31763),P=r(31021),Z=r(72242),z=r(95814),C=r(74463),D=a([f,y,C]);[f,y,C]=D.then?(await D)():D;var A=function(a){function t(){var a;(0,p.Z)(this,t);for(var r=arguments.length,s=new Array(r),e=0;e<r;e++)s[e]=arguments[e];return(a=(0,d.Z)(this,t,[].concat(s)))._creatingBackup=!1,a}return(0,k.Z)(t,a),(0,_.Z)(t,[{key:"showDialog",value:function(a){this._dialogParams=a,this._creatingBackup=!1}},{key:"closeDialog",value:function(){this._dialogParams=void 0,this._creatingBackup=!1,this._error=void 0,(0,m.B)(this,"dialog-closed",{dialog:this.localName})}},{key:"render",value:function(){return this._dialogParams?(0,v.dy)(e||(e=(0,h.Z)([' <ha-dialog open scrimClickAction @closed="','" .heading="','"> '," ",' <mwc-button slot="secondaryAction" @click="','"> ',' </mwc-button> <mwc-button .disabled="','" slot="primaryAction" @click="','"> '," </mwc-button> </ha-dialog> "])),this.closeDialog,(0,w.i)(this.hass,this._dialogParams.supervisor.localize("backup.create_backup")),this._creatingBackup?(0,v.dy)(i||(i=(0,h.Z)(["<ha-spinner></ha-spinner>"]))):(0,v.dy)(o||(o=(0,h.Z)(['<supervisor-backup-content .hass="','" .supervisor="','" dialogInitialFocus> </supervisor-backup-content>'])),this.hass,this._dialogParams.supervisor),this._error?(0,v.dy)(c||(c=(0,h.Z)(['<ha-alert alert-type="error">',"</ha-alert>"])),this._error):"",this.closeDialog,this._dialogParams.supervisor.localize("common.close"),this._creatingBackup,this._createBackup,this._dialogParams.supervisor.localize("backup.create")):v.Ld}},{key:"_createBackup",value:(r=(0,l.Z)((0,u.Z)().m(function a(){var t,r;return(0,u.Z)().w(function(a){for(;;)switch(a.n){case 0:if("running"===this._dialogParams.supervisor.info.state){a.n=1;break}return(0,Z.Ys)(this,{title:this._dialogParams.supervisor.localize("backup.could_not_create"),text:this._dialogParams.supervisor.localize("backup.create_blocked_not_running",{state:this._dialogParams.supervisor.info.state})}),a.a(2);case 1:if(t=this._backupContent.backupDetails(),this._creatingBackup=!0,this._error="",!t.password||t.password.length){a.n=2;break}return this._error=this._dialogParams.supervisor.localize("backup.enter_password"),this._creatingBackup=!1,a.a(2);case 2:if(!t.password||t.password===t.confirm_password){a.n=3;break}return this._error=this._dialogParams.supervisor.localize("backup.passwords_not_matching"),this._creatingBackup=!1,a.a(2);case 3:if(delete t.confirm_password,a.p=4,"full"!==this._backupContent.backupType){a.n=6;break}return a.n=5,(0,B.vU)(this.hass,t);case 5:a.n=7;break;case 6:return a.n=7,(0,B.zU)(this.hass,t);case 7:this._dialogParams.onCreate(),this.closeDialog(),a.n=9;break;case 8:a.p=8,r=a.v,this._error=(0,P.js)(r);case 9:this._creatingBackup=!1;case 10:return a.a(2)}},a,this,[[4,8]])})),function(){return r.apply(this,arguments)})}],[{key:"styles",get:function(){return[z.Qx,z.yu,(0,v.iv)(n||(n=(0,h.Z)([":host{direction:var(--direction)}"])))]}}]);var r}(v.oi);(0,g.__decorate)([(0,b.Cb)({attribute:!1})],A.prototype,"hass",void 0),(0,g.__decorate)([(0,b.SB)()],A.prototype,"_dialogParams",void 0),(0,g.__decorate)([(0,b.SB)()],A.prototype,"_error",void 0),(0,g.__decorate)([(0,b.SB)()],A.prototype,"_creatingBackup",void 0),(0,g.__decorate)([(0,b.IO)("supervisor-backup-content")],A.prototype,"_backupContent",void 0),A=(0,g.__decorate)([(0,b.Mo)("dialog-hassio-create-backup")],A),s()}catch(S){s(S)}})}}]);
//# sourceMappingURL=2210.6cbcf52d7ba9b850.js.map