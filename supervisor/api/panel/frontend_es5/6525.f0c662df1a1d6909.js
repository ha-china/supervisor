"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["6525"],{5958:function(t,a,o){o.r(a);var r,e,n,i=o(54982),c=o(29694),s=o(75778),u=o(54521),l=o(4490),h=o(20129),d=o(85297),p=(o(12212),o(73742)),f=(o(98334),o(59048)),_=o(7616),m=o(28105),v=o(39884),g=(o(83378),o(87979),o(31021)),y=o(4830),b=o(95814),k=(0,m.Z)(function(){return[{name:"default_backup_mount",required:!0,selector:{backup_location:{}}}]}),w=function(t){function a(){var t;(0,u.Z)(this,a);for(var o=arguments.length,r=new Array(o),e=0;e<o;e++)r[e]=arguments[e];return(t=(0,h.Z)(this,a,[].concat(r)))._computeLabelCallback=function(a){return t._dialogParams.supervisor.localize("dialog.backup_location.options.".concat(a.name,".name"))||a.name},t._computeHelperCallback=function(a){return t._dialogParams.supervisor.localize("dialog.backup_location.options.".concat(a.name,".description"))},t}return(0,d.Z)(a,t),(0,l.Z)(a,[{key:"showDialog",value:(p=(0,s.Z)((0,c.Z)().m(function t(a){return(0,c.Z)().w(function(t){for(;;)switch(t.n){case 0:this._dialogParams=a;case 1:return t.a(2)}},t,this)})),function(t){return p.apply(this,arguments)})},{key:"closeDialog",value:function(){this._data=void 0,this._error=void 0,this._waiting=void 0,this._dialogParams=void 0,(0,v.B)(this,"dialog-closed",{dialog:this.localName})}},{key:"render",value:function(){return this._dialogParams?(0,f.dy)(r||(r=(0,i.Z)([' <ha-dialog open scrimClickAction escapeKeyAction .heading="','" @closed="','"> ',' <ha-form .hass="','" .data="','" .schema="','" .computeLabel="','" .computeHelper="','" @value-changed="','" dialogInitialFocus></ha-form> <mwc-button slot="secondaryAction" @click="','" dialogInitialFocus> ',' </mwc-button> <mwc-button .disabled="','" slot="primaryAction" @click="','"> '," </mwc-button> </ha-dialog> "])),this._dialogParams.supervisor.localize("dialog.backup_location.title"),this.closeDialog,this._error?(0,f.dy)(e||(e=(0,i.Z)(['<ha-alert alert-type="error">',"</ha-alert>"])),this._error):f.Ld,this.hass,this._data,k(),this._computeLabelCallback,this._computeHelperCallback,this._valueChanged,this.closeDialog,this._dialogParams.supervisor.localize("common.cancel"),this._waiting||!this._data,this._changeMount,this._dialogParams.supervisor.localize("common.save")):f.Ld}},{key:"_valueChanged",value:function(t){var a=t.detail.value.default_backup_mount;this._data={default_backup_mount:"/backup"===a?null:a}}},{key:"_changeMount",value:(o=(0,s.Z)((0,c.Z)().m(function t(){var a;return(0,c.Z)().w(function(t){for(;;)switch(t.n){case 0:if(this._data){t.n=1;break}return t.a(2);case 1:return this._error=void 0,this._waiting=!0,t.p=2,t.n=3,(0,y.Cl)(this.hass,this._data);case 3:t.n=5;break;case 4:return t.p=4,a=t.v,this._error=(0,g.js)(a),this._waiting=!1,t.a(2);case 5:this.closeDialog();case 6:return t.a(2)}},t,this,[[2,4]])})),function(){return o.apply(this,arguments)})}],[{key:"styles",get:function(){return[b.Qx,b.yu,(0,f.iv)(n||(n=(0,i.Z)([".delete-btn{--mdc-theme-primary:var(--error-color)}"])))]}}]);var o,p}(f.oi);(0,p.__decorate)([(0,_.Cb)({attribute:!1})],w.prototype,"hass",void 0),(0,p.__decorate)([(0,_.SB)()],w.prototype,"_dialogParams",void 0),(0,p.__decorate)([(0,_.SB)()],w.prototype,"_data",void 0),(0,p.__decorate)([(0,_.SB)()],w.prototype,"_waiting",void 0),(0,p.__decorate)([(0,_.SB)()],w.prototype,"_error",void 0),w=(0,p.__decorate)([(0,_.Mo)("dialog-hassio-backup-location")],w)},4830:function(t,a,o){o.d(a,{Cl:function(){return s},eX:function(){return i},mw:function(){return n},rE:function(){return c}});var r=o(29694),e=o(75778),n=function(t){return t.BIND="bind",t.CIFS="cifs",t.NFS="nfs",t}({}),i=function(t){return t.BACKUP="backup",t.MEDIA="media",t.SHARE="share",t}({}),c=function(){var t=(0,e.Z)((0,r.Z)().m(function t(a){return(0,r.Z)().w(function(t){for(;;)if(0===t.n)return t.a(2,a.callWS({type:"supervisor/api",endpoint:"/mounts",method:"get",timeout:null}))},t)}));return function(a){return t.apply(this,arguments)}}(),s=function(){var t=(0,e.Z)((0,r.Z)().m(function t(a,o){return(0,r.Z)().w(function(t){for(;;)if(0===t.n)return t.a(2,a.callWS({type:"supervisor/api",endpoint:"/mounts/options",method:"post",timeout:null,data:o}))},t)}));return function(a,o){return t.apply(this,arguments)}}()},94047:function(t,a,o){var r=o(87494),e=o(36539),n=o(24894),i=o(4311);t.exports=function(t,a){a&&"string"==typeof t||e(t);var o=i(t);return n(e(void 0!==o?r(o,t):t))}},81315:function(t,a,o){var r=o(77341),e=o(46381),n=o(65085),i=o(87670),c=o(80555),s=o(85016);r({target:"Array",proto:!0},{flatMap:function(t){var a,o=i(this),r=c(o);return n(t),(a=s(o,0)).length=e(a,o,o,r,0,1,t,arguments.length>1?arguments[1]:void 0),a}})},78152:function(t,a,o){o(84950)("flatMap")},55770:function(t,a,o){var r=o(77341),e=o(87494),n=o(65085),i=o(36539),c=o(24894),s=o(94047),u=o(41878),l=o(64043),h=o(83294),d=o(36582),p=o(41402),f=!h&&!d("flatMap",function(){}),_=!h&&!f&&p("flatMap",TypeError),m=h||f||_,v=u(function(){for(var t,a,o=this.iterator,r=this.mapper;;){if(a=this.inner)try{if(!(t=i(e(a.next,a.iterator))).done)return t.value;this.inner=null}catch(n){l(o,"throw",n)}if(t=i(e(this.next,o)),this.done=!!t.done)return;try{this.inner=s(r(t.value,this.counter++),!1)}catch(n){l(o,"throw",n)}}});r({target:"Iterator",proto:!0,real:!0,forced:m},{flatMap:function(t){i(this);try{n(t)}catch(a){l(this,"throw",a)}return _?e(_,this,t):new v(c(this),{mapper:t,inner:null})}})}}]);
//# sourceMappingURL=6525.f0c662df1a1d6909.js.map