"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["38"],{58125:function(e,t,n){n.d(t,{wZ:function(){return s},jL:function(){return o}});var i=n(75706),a=(n(25518),n(24819),n(81738),n(94814),n(6989),n(54480),n(69920),n(20655),n(28105)),r=n(15459);n(26847),n(11353),n(67886),n(65451),n(46015),n(38334),n(94880),n(75643),n(29761),n(48694),n(27530);var o=function(e){var t;return null===(t=e.name_by_user||e.name)||void 0===t?void 0:t.trim()},s=function(e,t,n){return o(e)||n&&u(t,n)||t.localize("ui.panel.config.devices.unnamed_device",{type:t.localize("ui.panel.config.devices.type.".concat(e.entry_type||"device"))})},u=function(e,t){var n,a=(0,i.Z)(t||[]);try{for(a.s();!(n=a.n()).done;){var o=n.value,s="string"==typeof o?o:o.entity_id,u=e.states[s];if(u)return(0,r.C)(u)}}catch(c){a.e(c)}finally{a.f()}};(0,a.Z)(function(e){return function(e){var t,n=new Set,a=new Set,r=(0,i.Z)(e);try{for(r.s();!(t=r.n()).done;){var o=t.value;a.has(o)?n.add(o):a.add(o)}}catch(s){r.e(s)}finally{r.f()}return n}(Object.values(e).map(function(e){return o(e)}).filter(function(e){return void 0!==e}))})},23378:function(e,t,n){n.d(t,{K:function(){return s}});var i=n(58125),a=n(15459),r=(n(12212),n(87622),n(69643),n(44261),[" ",": "," - "]),o=function(e){return e.toLowerCase()!==e},s=function(e,t){var n=t.entities[e.entity_id];return n?u(n,t):(0,a.C)(e)},u=function(e,t){var n=e.name||("original_name"in e?e.original_name:void 0),s=e.device_id?t.devices[e.device_id]:void 0;if(!s){if(n)return n;var u=t.states[e.entity_id];return u?(0,a.C)(u):void 0}var c=(0,i.jL)(s);if(c!==n)return c&&n&&function(e,t){for(var n=e.toLowerCase(),i=t.toLowerCase(),a=0,s=r;a<s.length;a++){var u=s[a],c="".concat(i).concat(u);if(n.startsWith(c)){var l=e.substring(c.length);if(l.length)return o(l.substr(0,l.indexOf(" ")))?l:l[0].toUpperCase()+l.slice(1)}}}(n,c)||n}},51574:function(e,t,n){n.d(t,{U:function(){return i}});var i=function(e,t){var n=t.entities[e.entity_id];return n?a(n,t):{entity:null,device:null,area:null,floor:null}},a=function(e,t){var n=t.entities[e.entity_id],i=null==e?void 0:e.device_id,a=i?t.devices[i]:void 0,r=(null==e?void 0:e.area_id)||(null==a?void 0:a.area_id),o=r?t.areas[r]:void 0,s=null==o?void 0:o.floor_id;return{entity:n,device:a||null,area:o||null,floor:(s?t.floors[s]:void 0)||null}}},7334:function(e,t,n){n.d(t,{T:function(){return a}});n(64455),n(32192);var i=/^(\w+)\.(\w+)$/,a=function(e){return i.test(e)}},55228:function(e,t,n){n.a(e,async function(e,t){try{var i,a,r,o,s,u,c,l,d,p=n(29694),v=n(75778),f=n(10354),h=n(54982),y=n(54521),_=n(4490),b=n(20129),m=n(85297),g=n(53389),C=(n(12212),n(25518),n(14487),n(39710),n(24819),n(13571),n(73042),n(81738),n(94814),n(6989),n(24533),n(54480),n(56389),n(44261),n(73742)),w=n(59048),j=n(7616),Z=n(28105),k=n(39884),O=n(86420),I=n(58125),L=n(44272),x=n(23378),E=n(15459),B=n(51574),V=n(7334),A=n(97050),D=n(96222),H=n(19331),M=n(612),z=(n(12692),n(64879)),U=(n(993),n(23476)),F=e([z,U]);[z,U]=F.then?(await F)():F;var R="___create-new-entity___",S=function(e){function t(){var e;(0,y.Z)(this,t);for(var n=arguments.length,d=new Array(n),p=0;p<n;p++)d[p]=arguments[p];return(e=(0,b.Z)(this,t,[].concat(d))).autofocus=!1,e.disabled=!1,e.required=!1,e.showEntityId=!1,e.hideClearIcon=!1,e._valueRenderer=function(t){var n=t||"",r=e.hass.states[n];if(!r)return(0,w.dy)(i||(i=(0,h.Z)([' <ha-svg-icon slot="start" .path="','" style="margin:0 4px"></ha-svg-icon> <span slot="headline">',"</span> "])),"M11,13.5V21.5H3V13.5H11M12,2L17.5,11H6.5L12,2M17.5,13C20,13 22,15 22,17.5C22,20 20,22 17.5,22C15,22 13,20 13,17.5C13,15 15,13 17.5,13Z",n);var o=(0,B.U)(r,e.hass),s=o.area,u=o.device,c=(0,x.K)(r,e.hass),l=u?(0,I.jL)(u):void 0,d=s?(0,O.D)(s):void 0,p=(0,A.HE)(e.hass),v=c||l||n,f=[d,c?l:void 0].filter(Boolean).join(p?" ◂ ":" ▸ ");return(0,w.dy)(a||(a=(0,h.Z)([' <state-badge .hass="','" .stateObj="','" slot="start"></state-badge> <span slot="headline">','</span> <span slot="supporting-text">',"</span> "])),e.hass,r,v,f)},e._rowRenderer=function(t,n){var i=n.index,a=e._showEntityId;return(0,w.dy)(r||(r=(0,h.Z)([' <ha-combo-box-item type="button" compact="compact" .borderTop="','"> ',' <span slot="headline">',"</span> "," "," "," </ha-combo-box-item> "])),0!==i,t.icon_path?(0,w.dy)(o||(o=(0,h.Z)([' <ha-svg-icon slot="start" style="margin:0 4px" .path="','"></ha-svg-icon> '])),t.icon_path):(0,w.dy)(s||(s=(0,h.Z)([' <state-badge slot="start" .stateObj="','" .hass="','"></state-badge> '])),t.stateObj,e.hass),t.primary,t.secondary?(0,w.dy)(u||(u=(0,h.Z)(['<span slot="supporting-text">',"</span>"])),t.secondary):w.Ld,t.stateObj&&a?(0,w.dy)(c||(c=(0,h.Z)([' <span slot="supporting-text" class="code"> '," </span> "])),t.stateObj.entity_id):w.Ld,t.domain_name&&!a?(0,w.dy)(l||(l=(0,h.Z)([' <div slot="trailing-supporting-text" class="domain"> '," </div> "])),t.domain_name):w.Ld)},e._getAdditionalItems=function(){return e._getCreateItems(e.hass.localize,e.createDomains)},e._getCreateItems=(0,Z.Z)(function(e,t){return null!=t&&t.length?t.map(function(t){var n=e("ui.components.entity.entity-picker.create_helper",{domain:(0,H.X)(t)?e("ui.panel.config.helpers.types.".concat(t)):(0,D.Lh)(e,t)});return{id:R+t,primary:n,secondary:e("ui.components.entity.entity-picker.new_entity"),icon_path:"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z"}}):[]}),e._getItems=function(){return e._getEntities(e.hass,e.includeDomains,e.excludeDomains,e.entityFilter,e.includeDeviceClasses,e.includeUnitOfMeasurement,e.includeEntities,e.excludeEntities)},e._getEntities=(0,Z.Z)(function(t,n,i,a,r,o,s,u){var c=[],l=Object.keys(t.states);s&&(l=l.filter(function(e){return s.includes(e)})),u&&(l=l.filter(function(e){return!u.includes(e)})),n&&(l=l.filter(function(e){return n.includes((0,L.M)(e))})),i&&(l=l.filter(function(e){return!i.includes((0,L.M)(e))}));var d=(0,A.HE)(e.hass);return c=l.map(function(n){var i=t.states[n],a=(0,B.U)(i,t),r=a.area,o=a.device,s=(0,E.C)(i),u=(0,x.K)(i,t),c=o?(0,I.jL)(o):void 0,l=r?(0,O.D)(r):void 0,p=(0,D.Lh)(e.hass.localize,(0,L.M)(n)),v=u||c||n,f=[l,u?c:void 0].filter(Boolean).join(d?" ◂ ":" ▸ "),h=[c,u].filter(Boolean).join(" - ");return{id:n,primary:v,secondary:f,domain_name:p,sorting_label:[c,u].filter(Boolean).join("_"),search_labels:[u,c,l,p,s,n].filter(Boolean),a11y_label:h,stateObj:i}}),r&&(c=c.filter(function(t){var n;return t.id===e.value||(null===(n=t.stateObj)||void 0===n?void 0:n.attributes.device_class)&&r.includes(t.stateObj.attributes.device_class)})),o&&(c=c.filter(function(t){var n;return t.id===e.value||(null===(n=t.stateObj)||void 0===n?void 0:n.attributes.unit_of_measurement)&&o.includes(t.stateObj.attributes.unit_of_measurement)})),a&&(c=c.filter(function(t){return t.id===e.value||t.stateObj&&a(t.stateObj)})),c}),e._searchFn=function(e,t){var n=t.findIndex(function(t){var n;return(null===(n=t.stateObj)||void 0===n?void 0:n.entity_id)===e});if(-1===n)return t;var i=t.splice(n,1),a=(0,f.Z)(i,1)[0];return t.unshift(a),t},e}return(0,m.Z)(t,e),(0,_.Z)(t,[{key:"firstUpdated",value:function(e){(0,g.Z)(t,"firstUpdated",this,3)([e]),this.hass.loadBackendTranslation("title")}},{key:"_showEntityId",get:function(){var e;return this.showEntityId||(null===(e=this.hass.userData)||void 0===e?void 0:e.showEntityIdPicker)}},{key:"render",value:function(){var e,t=null!==(e=this.placeholder)&&void 0!==e?e:this.hass.localize("ui.components.entity.entity-picker.placeholder"),n=this.hass.localize("ui.components.entity.entity-picker.no_match");return(0,w.dy)(d||(d=(0,h.Z)([' <ha-generic-picker .hass="','" .disabled="','" .autofocus="','" .allowCustomValue="','" .label="','" .helper="','" .searchLabel="','" .notFoundLabel="','" .placeholder="','" .value="','" .rowRenderer="','" .getItems="','" .getAdditionalItems="','" .hideClearIcon="','" .searchFn="','" .valueRenderer="','" @value-changed="','"> </ha-generic-picker> '])),this.hass,this.disabled,this.autofocus,this.allowCustomEntity,this.label,this.helper,this.searchLabel,n,t,this.value,this._rowRenderer,this._getItems,this._getAdditionalItems,this.hideClearIcon,this._searchFn,this._valueRenderer,this._valueChanged)}},{key:"open",value:(n=(0,v.Z)((0,p.Z)().m(function e(){var t;return(0,p.Z)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.updateComplete;case 1:return e.n=2,null===(t=this._picker)||void 0===t?void 0:t.open();case 2:return e.a(2)}},e,this)})),function(){return n.apply(this,arguments)})},{key:"_valueChanged",value:function(e){var t=this;e.stopPropagation();var n=e.detail.value;if(n)if(n.startsWith(R)){var i=n.substring(23);(0,M.j)(this,{domain:i,dialogClosedCallback:function(e){e.entityId&&t._setValue(e.entityId)}})}else(0,V.T)(n)&&this._setValue(n);else this._setValue(void 0)}},{key:"_setValue",value:function(e){this.value=e,(0,k.B)(this,"value-changed",{value:e}),(0,k.B)(this,"change")}}]);var n}(w.oi);(0,C.__decorate)([(0,j.Cb)({attribute:!1})],S.prototype,"hass",void 0),(0,C.__decorate)([(0,j.Cb)({type:Boolean})],S.prototype,"autofocus",void 0),(0,C.__decorate)([(0,j.Cb)({type:Boolean})],S.prototype,"disabled",void 0),(0,C.__decorate)([(0,j.Cb)({type:Boolean})],S.prototype,"required",void 0),(0,C.__decorate)([(0,j.Cb)({type:Boolean,attribute:"allow-custom-entity"})],S.prototype,"allowCustomEntity",void 0),(0,C.__decorate)([(0,j.Cb)({type:Boolean,attribute:"show-entity-id"})],S.prototype,"showEntityId",void 0),(0,C.__decorate)([(0,j.Cb)()],S.prototype,"label",void 0),(0,C.__decorate)([(0,j.Cb)()],S.prototype,"value",void 0),(0,C.__decorate)([(0,j.Cb)()],S.prototype,"helper",void 0),(0,C.__decorate)([(0,j.Cb)()],S.prototype,"placeholder",void 0),(0,C.__decorate)([(0,j.Cb)({type:String,attribute:"search-label"})],S.prototype,"searchLabel",void 0),(0,C.__decorate)([(0,j.Cb)({attribute:!1,type:Array})],S.prototype,"createDomains",void 0),(0,C.__decorate)([(0,j.Cb)({type:Array,attribute:"include-domains"})],S.prototype,"includeDomains",void 0),(0,C.__decorate)([(0,j.Cb)({type:Array,attribute:"exclude-domains"})],S.prototype,"excludeDomains",void 0),(0,C.__decorate)([(0,j.Cb)({type:Array,attribute:"include-device-classes"})],S.prototype,"includeDeviceClasses",void 0),(0,C.__decorate)([(0,j.Cb)({type:Array,attribute:"include-unit-of-measurement"})],S.prototype,"includeUnitOfMeasurement",void 0),(0,C.__decorate)([(0,j.Cb)({type:Array,attribute:"include-entities"})],S.prototype,"includeEntities",void 0),(0,C.__decorate)([(0,j.Cb)({type:Array,attribute:"exclude-entities"})],S.prototype,"excludeEntities",void 0),(0,C.__decorate)([(0,j.Cb)({attribute:!1})],S.prototype,"entityFilter",void 0),(0,C.__decorate)([(0,j.Cb)({attribute:"hide-clear-icon",type:Boolean})],S.prototype,"hideClearIcon",void 0),(0,C.__decorate)([(0,j.IO)("ha-generic-picker")],S.prototype,"_picker",void 0),S=(0,C.__decorate)([(0,j.Mo)("ha-entity-picker")],S),t()}catch(T){t(T)}})},60673:function(e,t,n){n.d(t,{iI:function(){return a},oT:function(){return i}});n(29694),n(75778),n(39710),n(24819),n(81738),n(6989),n(21700),n(87799),n(54480),n(1455),n(26086),n(56389);var i=function(e){return e.map(function(e){if("string"!==e.type)return e;switch(e.name){case"username":return Object.assign(Object.assign({},e),{},{autocomplete:"username",autofocus:!0});case"password":return Object.assign(Object.assign({},e),{},{autocomplete:"current-password"});case"code":return Object.assign(Object.assign({},e),{},{autocomplete:"one-time-code",autofocus:!0});default:return e}})},a=function(e,t){return e.callWS({type:"auth/sign_path",path:t})}},16230:function(e,t,n){n.d(t,{ON:function(){return o},PX:function(){return s},V_:function(){return u},lz:function(){return r},nZ:function(){return a},rk:function(){return l}});var i=n(54731),a="unavailable",r="unknown",o="on",s="off",u=[a,r],c=[a,r,s],l=(0,i.z)(u);(0,i.z)(c)},96222:function(e,t,n){n.d(t,{F3:function(){return a},Lh:function(){return i},t4:function(){return r}});var i=function(e,t,n){return e("component.".concat(t,".title"))||(null==n?void 0:n.name)||t},a=function(e,t){var n={type:"manifest/list"};return t&&(n.integrations=t),e.callWS(n)},r=function(e,t){return e.callWS({type:"manifest/get",integration:t})}},612:function(e,t,n){n.d(t,{j:function(){return r}});n(26847),n(54480),n(1455),n(48694),n(27530);var i=n(39884),a=function(){return Promise.all([n.e("5696"),n.e("2092"),n.e("158"),n.e("7888")]).then(n.bind(n,86138))},r=function(e,t){(0,i.B)(e,"show-dialog",{dialogTag:"dialog-helper-detail",dialogImport:a,dialogParams:t})}}}]);
//# sourceMappingURL=38.1f074ad27d5667df.js.map