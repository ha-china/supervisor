/*! For license information please see 3963.7a2f7adcca0b1799.js.LICENSE.txt */
"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["3963"],{86420:function(e,t,i){i.d(t,{D:function(){return n}});i(20655);var n=function(e){var t;return null===(t=e.name)||void 0===t?void 0:t.trim()}},54720:function(e,t,i){i.a(e,async function(e,t){try{var n,r,a,s,o=i(29694),u=i(75778),c=i(54982),l=i(22225),d=i(54521),h=i(4490),v=i(20129),y=i(85297),p=(i(12212),i(25518),i(39710),i(24819),i(81738),i(94814),i(6989),i(54480),i(56389),i(73742)),f=i(59048),_=i(7616),b=i(28105),m=i(39884),C=i(7334),Z=i(55228),k=e([Z]);Z=(k.then?(await k)():k)[0];var g=function(e){function t(){var e;(0,d.Z)(this,t);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(e=(0,v.Z)(this,t,[].concat(n))).disabled=!1,e.required=!1,e._excludeEntities=(0,b.Z)(function(e,t){return void 0===e?t:[].concat((0,l.Z)(t||[]),(0,l.Z)(e))}),e}return(0,y.Z)(t,e),(0,h.Z)(t,[{key:"render",value:function(){var e=this;if(!this.hass)return f.Ld;var t=this._currentEntities;return(0,f.dy)(n||(n=(0,c.Z)([" "," ",' <div> <ha-entity-picker allow-custom-entity .hass="','" .includeDomains="','" .excludeDomains="','" .includeEntities="','" .excludeEntities="','" .includeDeviceClasses="','" .includeUnitOfMeasurement="','" .entityFilter="','" .placeholder="','" .helper="','" .disabled="','" .createDomains="','" .required="','" @value-changed="','"></ha-entity-picker> </div> '])),this.label?(0,f.dy)(r||(r=(0,c.Z)(["<label>","</label>"])),this.label):f.Ld,t.map(function(t){return(0,f.dy)(a||(a=(0,c.Z)([' <div> <ha-entity-picker allow-custom-entity .curValue="','" .hass="','" .includeDomains="','" .excludeDomains="','" .includeEntities="','" .excludeEntities="','" .includeDeviceClasses="','" .includeUnitOfMeasurement="','" .entityFilter="','" .value="','" .disabled="','" .createDomains="','" @value-changed="','"></ha-entity-picker> </div> '])),t,e.hass,e.includeDomains,e.excludeDomains,e.includeEntities,e.excludeEntities,e.includeDeviceClasses,e.includeUnitOfMeasurement,e.entityFilter,t,e.disabled,e.createDomains,e._entityChanged)}),this.hass,this.includeDomains,this.excludeDomains,this.includeEntities,this._excludeEntities(this.value,this.excludeEntities),this.includeDeviceClasses,this.includeUnitOfMeasurement,this.entityFilter,this.placeholder,this.helper,this.disabled,this.createDomains,this.required&&!t.length,this._addEntity)}},{key:"_currentEntities",get:function(){return this.value||[]}},{key:"_updateEntities",value:(s=(0,u.Z)((0,o.Z)().m(function e(t){return(0,o.Z)().w(function(e){for(;;)switch(e.n){case 0:this.value=t,(0,m.B)(this,"value-changed",{value:t});case 1:return e.a(2)}},e,this)})),function(e){return s.apply(this,arguments)})},{key:"_entityChanged",value:function(e){e.stopPropagation();var t=e.currentTarget.curValue,i=e.detail.value;if(i!==t&&(void 0===i||(0,C.T)(i))){var n=this._currentEntities;i&&!n.includes(i)?this._updateEntities(n.map(function(e){return e===t?i:e})):this._updateEntities(n.filter(function(e){return e!==t}))}}},{key:"_addEntity",value:(i=(0,u.Z)((0,o.Z)().m(function e(t){var i,n;return(0,o.Z)().w(function(e){for(;;)switch(e.n){case 0:if(t.stopPropagation(),i=t.detail.value){e.n=1;break}return e.a(2);case 1:if(t.currentTarget.value="",i){e.n=2;break}return e.a(2);case 2:if(!(n=this._currentEntities).includes(i)){e.n=3;break}return e.a(2);case 3:this._updateEntities([].concat((0,l.Z)(n),[i]));case 4:return e.a(2)}},e,this)})),function(e){return i.apply(this,arguments)})}]);var i,s}(f.oi);g.styles=(0,f.iv)(s||(s=(0,c.Z)(["div{margin-top:8px}label{display:block;margin:0 0 8px}"]))),(0,p.__decorate)([(0,_.Cb)({attribute:!1})],g.prototype,"hass",void 0),(0,p.__decorate)([(0,_.Cb)({type:Array})],g.prototype,"value",void 0),(0,p.__decorate)([(0,_.Cb)({type:Boolean})],g.prototype,"disabled",void 0),(0,p.__decorate)([(0,_.Cb)({type:Boolean})],g.prototype,"required",void 0),(0,p.__decorate)([(0,_.Cb)()],g.prototype,"label",void 0),(0,p.__decorate)([(0,_.Cb)()],g.prototype,"placeholder",void 0),(0,p.__decorate)([(0,_.Cb)()],g.prototype,"helper",void 0),(0,p.__decorate)([(0,_.Cb)({type:Array,attribute:"include-domains"})],g.prototype,"includeDomains",void 0),(0,p.__decorate)([(0,_.Cb)({type:Array,attribute:"exclude-domains"})],g.prototype,"excludeDomains",void 0),(0,p.__decorate)([(0,_.Cb)({type:Array,attribute:"include-device-classes"})],g.prototype,"includeDeviceClasses",void 0),(0,p.__decorate)([(0,_.Cb)({type:Array,attribute:"include-unit-of-measurement"})],g.prototype,"includeUnitOfMeasurement",void 0),(0,p.__decorate)([(0,_.Cb)({type:Array,attribute:"include-entities"})],g.prototype,"includeEntities",void 0),(0,p.__decorate)([(0,_.Cb)({type:Array,attribute:"exclude-entities"})],g.prototype,"excludeEntities",void 0),(0,p.__decorate)([(0,_.Cb)({attribute:!1})],g.prototype,"entityFilter",void 0),(0,p.__decorate)([(0,_.Cb)({attribute:!1,type:Array})],g.prototype,"createDomains",void 0),g=(0,p.__decorate)([(0,_.Mo)("ha-entities-picker")],g),t()}catch(E){t(E)}})},60358:function(e,t,i){i.a(e,async function(e,n){try{i.r(t),i.d(t,{HaEntitySelector:function(){return k}});var r,a,s=i(54982),o=i(54521),u=i(4490),c=i(20129),l=i(85297),d=i(53389),h=(i(12212),i(25518),i(81738),i(94814),i(72489),i(54480),i(73742)),v=i(59048),y=i(7616),p=i(45332),f=i(39884),_=i(33832),b=i(37555),m=i(54720),C=i(55228),Z=e([m,C]);[m,C]=Z.then?(await Z)():Z;var k=function(e){function t(){var e;(0,o.Z)(this,t);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(e=(0,c.Z)(this,t,[].concat(n))).disabled=!1,e.required=!0,e._filterEntities=function(t){var i;return null===(i=e.selector)||void 0===i||null===(i=i.entity)||void 0===i||!i.filter||(0,p.r)(e.selector.entity.filter).some(function(i){return(0,b.lV)(i,t,e._entitySources)})},e}return(0,l.Z)(t,e),(0,u.Z)(t,[{key:"_hasIntegration",value:function(e){var t;return(null===(t=e.entity)||void 0===t?void 0:t.filter)&&(0,p.r)(e.entity.filter).some(function(e){return e.integration})}},{key:"willUpdate",value:function(e){var t,i;e.get("selector")&&void 0!==this.value&&(null!==(t=this.selector.entity)&&void 0!==t&&t.multiple&&!Array.isArray(this.value)?(this.value=[this.value],(0,f.B)(this,"value-changed",{value:this.value})):null!==(i=this.selector.entity)&&void 0!==i&&i.multiple||!Array.isArray(this.value)||(this.value=this.value[0],(0,f.B)(this,"value-changed",{value:this.value})))}},{key:"render",value:function(){var e,t,i;return this._hasIntegration(this.selector)&&!this._entitySources?v.Ld:null!==(e=this.selector.entity)&&void 0!==e&&e.multiple?(0,v.dy)(a||(a=(0,s.Z)([' <ha-entities-picker .hass="','" .value="','" .label="','" .helper="','" .includeEntities="','" .excludeEntities="','" .entityFilter="','" .createDomains="','" .disabled="','" .required="','"></ha-entities-picker> '])),this.hass,this.value,this.label,this.helper,this.selector.entity.include_entities,this.selector.entity.exclude_entities,this._filterEntities,this._createDomains,this.disabled,this.required):(0,v.dy)(r||(r=(0,s.Z)(['<ha-entity-picker .hass="','" .value="','" .label="','" .helper="','" .includeEntities="','" .excludeEntities="','" .entityFilter="','" .createDomains="','" .disabled="','" .required="','" allow-custom-entity></ha-entity-picker>'])),this.hass,this.value,this.label,this.helper,null===(t=this.selector.entity)||void 0===t?void 0:t.include_entities,null===(i=this.selector.entity)||void 0===i?void 0:i.exclude_entities,this._filterEntities,this._createDomains,this.disabled,this.required)}},{key:"updated",value:function(e){var i=this;(0,d.Z)(t,"updated",this,3)([e]),e.has("selector")&&this._hasIntegration(this.selector)&&!this._entitySources&&(0,_.m)(this.hass).then(function(e){i._entitySources=e}),e.has("selector")&&(this._createDomains=(0,b.bq)(this.selector))}}])}(v.oi);(0,h.__decorate)([(0,y.Cb)({attribute:!1})],k.prototype,"hass",void 0),(0,h.__decorate)([(0,y.Cb)({attribute:!1})],k.prototype,"selector",void 0),(0,h.__decorate)([(0,y.SB)()],k.prototype,"_entitySources",void 0),(0,h.__decorate)([(0,y.Cb)()],k.prototype,"value",void 0),(0,h.__decorate)([(0,y.Cb)()],k.prototype,"label",void 0),(0,h.__decorate)([(0,y.Cb)()],k.prototype,"helper",void 0),(0,h.__decorate)([(0,y.Cb)({type:Boolean})],k.prototype,"disabled",void 0),(0,h.__decorate)([(0,y.Cb)({type:Boolean})],k.prototype,"required",void 0),(0,h.__decorate)([(0,y.SB)()],k.prototype,"_createDomains",void 0),k=(0,h.__decorate)([(0,y.Mo)("ha-selector-entity")],k),n()}catch(g){n(g)}})},33832:function(e,t,i){i.d(t,{m:function(){return o}});i(24533);var n=i(29694),r=i(75778),a=(i(12212),i(54480),i(1455),function(){var e=(0,r.Z)((0,n.Z)().m(function e(t,i,r,s,o){var u,c,l,d,h,v,y,p=arguments;return(0,n.Z)().w(function(e){for(;;)switch(e.n){case 0:for(u=p.length,c=new Array(u>5?u-5:0),l=5;l<u;l++)c[l-5]=p[l];if(h=(d=o)[t],v=function(e){return s&&s(o,e.result)!==e.cacheKey?(d[t]=void 0,a.apply(void 0,[t,i,r,s,o].concat(c))):e.result},!h){e.n=1;break}return e.a(2,h instanceof Promise?h.then(v):v(h));case 1:return y=r.apply(void 0,[o].concat(c)),d[t]=y,y.then(function(e){d[t]={result:e,cacheKey:null==s?void 0:s(o,e)},setTimeout(function(){d[t]=void 0},i)},function(){d[t]=void 0}),e.a(2,y)}},e)}));return function(t,i,n,r,a){return e.apply(this,arguments)}}()),s=function(e){return e.callWS({type:"entity/source"})},o=function(e){return a("_entitySources",3e4,s,function(e){return Object.keys(e.states).length},e)}},8504:function(e,t,i){var n=i(86840),r=Math.floor;e.exports=Number.isInteger||function(e){return!n(e)&&isFinite(e)&&r(e)===e}},35385:function(e,t,i){i(77341)({target:"Number",stat:!0},{isInteger:i(8504)})},28177:function(e,t,i){i.d(t,{C:function(){return m}});var n=i(29694),r=i(75778),a=i(54521),s=i(4490),o=i(67063),u=i(20129),c=i(85297),l=(i(70021),i(87622),i(81738),i(29981),i(54480),i(1455),i(35340)),d=i(5277),h=i(93847);i(73249),i(84730),i(15411),i(79133),i(40777),i(26847),i(48694),i(27530);var v=function(){return(0,s.Z)(function e(t){(0,a.Z)(this,e),this.G=t},[{key:"disconnect",value:function(){this.G=void 0}},{key:"reconnect",value:function(e){this.G=e}},{key:"deref",value:function(){return this.G}}])}(),y=function(){return(0,s.Z)(function e(){(0,a.Z)(this,e),this.Y=void 0,this.Z=void 0},[{key:"get",value:function(){return this.Y}},{key:"pause",value:function(){var e,t=this;null!==(e=this.Y)&&void 0!==e||(this.Y=new Promise(function(e){return t.Z=e}))}},{key:"resume",value:function(){var e;null!==(e=this.Z)&&void 0!==e&&e.call(this),this.Y=this.Z=void 0}}])}(),p=i(83522),f=function(e){return!(0,d.pt)(e)&&"function"==typeof e.then},_=1073741823,b=function(e){function t(){var e;return(0,a.Z)(this,t),(e=(0,u.Z)(this,t,arguments))._$Cwt=_,e._$Cbt=[],e._$CK=new v((0,o.Z)(e)),e._$CX=new y,e}return(0,c.Z)(t,e),(0,s.Z)(t,[{key:"render",value:function(){for(var e,t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return null!==(e=i.find(function(e){return!f(e)}))&&void 0!==e?e:l.Jb}},{key:"update",value:function(e,t){var i=this,a=this._$Cbt,s=a.length;this._$Cbt=t;var o=this._$CK,u=this._$CX;this.isConnected||this.disconnected();for(var c,d=function(){var e=t[h];if(!f(e))return{v:(i._$Cwt=h,e)};h<s&&e===a[h]||(i._$Cwt=_,s=0,Promise.resolve(e).then(function(){var t=(0,r.Z)((0,n.Z)().m(function t(i){var r,a;return(0,n.Z)().w(function(t){for(;;)switch(t.n){case 0:if(!u.get()){t.n=2;break}return t.n=1,u.get();case 1:t.n=0;break;case 2:void 0!==(r=o.deref())&&(a=r._$Cbt.indexOf(e))>-1&&a<r._$Cwt&&(r._$Cwt=a,r.setValue(i));case 3:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}()))},h=0;h<t.length&&!(h>this._$Cwt);h++)if(c=d())return c.v;return l.Jb}},{key:"disconnected",value:function(){this._$CK.disconnect(),this._$CX.pause()}},{key:"reconnected",value:function(){this._$CK.reconnect(this),this._$CX.resume()}}])}(h.sR),m=(0,p.XM)(b)}}]);
//# sourceMappingURL=3963.7a2f7adcca0b1799.js.map