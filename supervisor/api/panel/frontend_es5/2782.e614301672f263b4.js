"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["2782"],{34394:function(e,t,n){n.d(t,{I:function(){return r},k:function(){return i}});n(26847),n(54480),n(11353),n(67886),n(65451),n(46015),n(38334),n(94880),n(75643),n(29761),n(48694),n(27530);var i=new Set(["primary","accent","disabled","red","pink","purple","deep-purple","indigo","blue","light-blue","cyan","teal","green","light-green","lime","yellow","amber","orange","deep-orange","brown","light-grey","grey","dark-grey","blue-grey","black","white"]);function r(e){return i.has(e)?"var(--".concat(e,"-color)"):e}},87639:function(e,t,n){n.d(t,{D:function(){return i}});var i=function(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=function(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];var s=i&&!n;clearTimeout(n),n=window.setTimeout(function(){n=void 0,e.apply(void 0,a)},t),s&&e.apply(void 0,a)};return r.cancel=function(){clearTimeout(n)},r}},11992:function(e,t,n){n.a(e,async function(e,t){try{var i,r,a,o,s,u=n(29694),c=n(75778),l=n(22225),d=n(54982),h=n(54521),f=n(4490),_=n(20129),p=n(85297),b=(n(73249),n(84730),n(12212),n(25518),n(39710),n(26847),n(24819),n(81738),n(33480),n(94814),n(22960),n(6989),n(72489),n(7175),n(54480),n(69920),n(11353),n(67886),n(65451),n(46015),n(38334),n(94880),n(75643),n(29761),n(56389),n(48694),n(44261),n(67398),n(27530),n(73742)),v=n(59048),y=n(7616),g=n(28105),m=n(39884),k=n(44272),C=n(28905),Z=n(27831),w=n(72242),S=n(6291),A=n(54614),L=n(64879),V=(n(993),e([L]));L=(V.then?(await V)():V)[0];var M="M17.63,5.84C17.27,5.33 16.67,5 16,5H5A2,2 0 0,0 3,7V17A2,2 0 0,0 5,19H16C16.67,19 17.27,18.66 17.63,18.15L22,12L17.63,5.84Z",B="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z",H="___ADD_NEW___",D="___NO_LABELS___",E=function(e){function t(){var e;(0,h.Z)(this,t);for(var n=arguments.length,s=new Array(n),u=0;u<n;u++)s[u]=arguments[u];return(e=(0,_.Z)(this,t,[].concat(s))).noAdd=!1,e.disabled=!1,e.required=!1,e._labelMap=(0,g.Z)(function(e){return e?new Map(e.map(function(e){return[e.label_id,e]})):new Map}),e._computeValueRenderer=(0,g.Z)(function(t){return function(n){var s=e._labelMap(t).get(n);return s?(0,v.dy)(r||(r=(0,d.Z)([" ",' <span slot="headline">',"</span> "])),s.icon?(0,v.dy)(a||(a=(0,d.Z)(['<ha-icon slot="start" .icon="','"></ha-icon>'])),s.icon):(0,v.dy)(o||(o=(0,d.Z)(['<ha-svg-icon slot="start" .path="','"></ha-svg-icon>'])),M),s.name):(0,v.dy)(i||(i=(0,d.Z)([' <ha-svg-icon slot="start" .path="','"></ha-svg-icon> <span slot="headline">',"</span> "])),M,n)}}),e._getLabels=(0,g.Z)(function(t,n,i,r,a,o,s,u,c,l){if(!t||0===t.length)return[{id:D,primary:e.hass.localize("ui.components.label-picker.no_labels"),icon_path:M}];var d,h,f=Object.values(i),_=Object.values(r),p={};(a||o||s||u||c)&&(p=(0,C.R6)(_),d=f,h=_.filter(function(e){return e.labels.length>0}),a&&(d=d.filter(function(e){var t=p[e.id];return!(!t||!t.length)&&p[e.id].some(function(e){return a.includes((0,k.M)(e.entity_id))})}),h=h.filter(function(e){return a.includes((0,k.M)(e.entity_id))})),o&&(d=d.filter(function(e){var t=p[e.id];return!t||!t.length||_.every(function(e){return!o.includes((0,k.M)(e.entity_id))})}),h=h.filter(function(e){return!o.includes((0,k.M)(e.entity_id))})),s&&(d=d.filter(function(t){var n=p[t.id];return!(!n||!n.length)&&p[t.id].some(function(t){var n=e.hass.states[t.entity_id];return!!n&&(n.attributes.device_class&&s.includes(n.attributes.device_class))})}),h=h.filter(function(t){var n=e.hass.states[t.entity_id];return n.attributes.device_class&&s.includes(n.attributes.device_class)})),u&&(d=d.filter(function(e){return u(e)})),c&&(d=d.filter(function(t){var n=p[t.id];return!(!n||!n.length)&&p[t.id].some(function(t){var n=e.hass.states[t.entity_id];return!!n&&c(n)})}),h=h.filter(function(t){var n=e.hass.states[t.entity_id];return!!n&&c(n)})));var b,v=t,y=new Set;return d&&(b=d.filter(function(e){return e.area_id}).map(function(e){return e.area_id}),d.forEach(function(e){e.labels.forEach(function(e){return y.add(e)})})),h&&(b=(null!=b?b:[]).concat(h.filter(function(e){return e.area_id}).map(function(e){return e.area_id})),h.forEach(function(e){e.labels.forEach(function(e){return y.add(e)})})),b&&b.forEach(function(e){n[e].labels.forEach(function(e){return y.add(e)})}),l&&(v=v.filter(function(e){return!l.includes(e.label_id)})),(d||h)&&(v=v.filter(function(e){return y.has(e.label_id)})),v.map(function(e){return{id:e.label_id,primary:e.name,icon:e.icon||void 0,icon_path:e.icon?void 0:M,sorting_label:e.name,search_labels:[e.name,e.label_id,e.description].filter(function(e){return Boolean(e)})}})}),e._getItems=function(){return e._getLabels(e._labels,e.hass.areas,e.hass.devices,e.hass.entities,e.includeDomains,e.excludeDomains,e.includeDeviceClasses,e.deviceFilter,e.entityFilter,e.excludeLabels)},e._allLabelNames=(0,g.Z)(function(e){return e?(0,l.Z)(new Set(e.map(function(e){return e.name.toLowerCase()}).filter(Boolean))):[]}),e._getAdditionalItems=function(t){if(e.noAdd)return[];var n=e._allLabelNames(e._labels);return t&&!n.includes(t.toLowerCase())?[{id:H+t,primary:e.hass.localize("ui.components.label-picker.add_new_sugestion",{name:t}),icon_path:B}]:[{id:H,primary:e.hass.localize("ui.components.label-picker.add_new"),icon_path:B}]},e}return(0,p.Z)(t,e),(0,f.Z)(t,[{key:"open",value:(n=(0,c.Z)((0,u.Z)().m(function e(){var t;return(0,u.Z)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.updateComplete;case 1:return e.n=2,null===(t=this._picker)||void 0===t?void 0:t.open();case 2:return e.a(2)}},e,this)})),function(){return n.apply(this,arguments)})},{key:"hassSubscribe",value:function(){var e=this;return[(0,Z.f4)(this.hass.connection,function(t){e._labels=t})]}},{key:"render",value:function(){var e,t=null!==(e=this.placeholder)&&void 0!==e?e:this.hass.localize("ui.components.label-picker.label"),n=this._computeValueRenderer(this._labels);return(0,v.dy)(s||(s=(0,d.Z)([' <ha-generic-picker .hass="','" .autofocus="','" .label="','" .notFoundLabel="','" .placeholder="','" .value="','" .getItems="','" .getAdditionalItems="','" .valueRenderer="','" @value-changed="','"> </ha-generic-picker> '])),this.hass,this.autofocus,this.label,this.hass.localize("ui.components.label-picker.no_match"),t,this.value,this._getItems,this._getAdditionalItems,n,this._valueChanged)}},{key:"_valueChanged",value:function(e){var t=this;e.stopPropagation();var n=e.detail.value;if(n!==D)if(n)if(n.startsWith(H)){this.hass.loadFragmentTranslation("config");var i=n.substring(13);(0,A.T)(this,{suggestedName:i,createEntry:(r=(0,c.Z)((0,u.Z)().m(function e(n){var i,r;return(0,u.Z)().w(function(e){for(;;)switch(e.n){case 0:return e.p=0,e.n=1,(0,Z.jo)(t.hass,n);case 1:i=e.v,t._setValue(i.label_id),e.n=3;break;case 2:e.p=2,r=e.v,(0,w.Ys)(t,{title:t.hass.localize("ui.components.label-picker.failed_create_label"),text:r.message});case 3:return e.a(2)}},e,null,[[0,2]])})),function(e){return r.apply(this,arguments)})})}else{var r;this._setValue(n)}else this._setValue(void 0)}},{key:"_setValue",value:function(e){var t=this;this.value=e,setTimeout(function(){(0,m.B)(t,"value-changed",{value:e}),(0,m.B)(t,"change")},0)}}]);var n}((0,S.f)(v.oi));(0,b.__decorate)([(0,y.Cb)({attribute:!1})],E.prototype,"hass",void 0),(0,b.__decorate)([(0,y.Cb)()],E.prototype,"label",void 0),(0,b.__decorate)([(0,y.Cb)()],E.prototype,"value",void 0),(0,b.__decorate)([(0,y.Cb)()],E.prototype,"helper",void 0),(0,b.__decorate)([(0,y.Cb)()],E.prototype,"placeholder",void 0),(0,b.__decorate)([(0,y.Cb)({type:Boolean,attribute:"no-add"})],E.prototype,"noAdd",void 0),(0,b.__decorate)([(0,y.Cb)({type:Array,attribute:"include-domains"})],E.prototype,"includeDomains",void 0),(0,b.__decorate)([(0,y.Cb)({type:Array,attribute:"exclude-domains"})],E.prototype,"excludeDomains",void 0),(0,b.__decorate)([(0,y.Cb)({type:Array,attribute:"include-device-classes"})],E.prototype,"includeDeviceClasses",void 0),(0,b.__decorate)([(0,y.Cb)({type:Array,attribute:"exclude-label"})],E.prototype,"excludeLabels",void 0),(0,b.__decorate)([(0,y.Cb)({attribute:!1})],E.prototype,"deviceFilter",void 0),(0,b.__decorate)([(0,y.Cb)({attribute:!1})],E.prototype,"entityFilter",void 0),(0,b.__decorate)([(0,y.Cb)({type:Boolean})],E.prototype,"disabled",void 0),(0,b.__decorate)([(0,y.Cb)({type:Boolean})],E.prototype,"required",void 0),(0,b.__decorate)([(0,y.SB)()],E.prototype,"_labels",void 0),(0,b.__decorate)([(0,y.IO)("ha-generic-picker")],E.prototype,"_picker",void 0),E=(0,b.__decorate)([(0,y.Mo)("ha-label-picker")],E),t()}catch(I){t(I)}})},27831:function(e,t,n){n.d(t,{$0:function(){return l},f4:function(){return u},jo:function(){return c}});n(18574),n(87799);var i=n(88865),r=n(36221),a=n(87639),o=function(e){return e.sendMessagePromise({type:"config/label_registry/list"}).then(function(e){return e.sort(function(e,t){return(0,r.$K)(e.name,t.name)})})},s=function(e,t){return e.subscribeEvents((0,a.D)(function(){return o(e).then(function(e){return t.setState(e,!0)})},500,!0),"label_registry_updated")},u=function(e,t){return(0,i.B)("_labelRegistry",o,s,e,t)},c=function(e,t){return e.callWS(Object.assign({type:"config/label_registry/create"},t))},l=function(e,t,n){return e.callWS(Object.assign({type:"config/label_registry/update",label_id:t},n))}},6291:function(e,t,n){n.d(t,{f:function(){return d}});var i=n(75706),r=n(54521),a=n(4490),o=n(20129),s=n(53389),u=n(85297),c=(n(39710),n(26847),n(81738),n(72489),n(54480),n(1455),n(56389),n(27530),n(73742)),l=n(7616),d=function(e){var t=function(e){function t(){return(0,r.Z)(this,t),(0,o.Z)(this,t,arguments)}return(0,u.Z)(t,e),(0,a.Z)(t,[{key:"connectedCallback",value:function(){(0,s.Z)(t,"connectedCallback",this,3)([]),this._checkSubscribed()}},{key:"disconnectedCallback",value:function(){if((0,s.Z)(t,"disconnectedCallback",this,3)([]),this.__unsubs){for(;this.__unsubs.length;){var e=this.__unsubs.pop();e instanceof Promise?e.then(function(e){return e()}):e()}this.__unsubs=void 0}}},{key:"updated",value:function(e){if((0,s.Z)(t,"updated",this,3)([e]),e.has("hass"))this._checkSubscribed();else if(this.hassSubscribeRequiredHostProps){var n,r=(0,i.Z)(e.keys());try{for(r.s();!(n=r.n()).done;){var a=n.value;if(this.hassSubscribeRequiredHostProps.includes(a))return void this._checkSubscribed()}}catch(o){r.e(o)}finally{r.f()}}}},{key:"hassSubscribe",value:function(){return[]}},{key:"_checkSubscribed",value:function(){var e,t=this;void 0!==this.__unsubs||!this.isConnected||void 0===this.hass||null!==(e=this.hassSubscribeRequiredHostProps)&&void 0!==e&&e.some(function(e){return void 0===t[e]})||(this.__unsubs=this.hassSubscribe())}}])}(e);return(0,c.__decorate)([(0,l.Cb)({attribute:!1})],t.prototype,"hass",void 0),t}},54614:function(e,t,n){n.d(t,{T:function(){return a}});n(26847),n(54480),n(1455),n(48694),n(27530);var i=n(39884),r=function(){return Promise.all([n.e("7063"),n.e("5696"),n.e("970"),n.e("4205")]).then(n.bind(n,44730))},a=function(e,t){(0,i.B)(e,"show-dialog",{dialogTag:"dialog-label-detail",dialogImport:r,dialogParams:t})}}}]);
//# sourceMappingURL=2782.e614301672f263b4.js.map