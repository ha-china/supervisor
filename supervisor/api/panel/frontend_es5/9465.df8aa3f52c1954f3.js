/*! For license information please see 9465.df8aa3f52c1954f3.js.LICENSE.txt */
"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["9465"],{80032:function(e,t,i){i.a(e,async function(e,t){try{var a,n,r,s,o,l,c=i(22225),u=i(54982),h=i(29694),d=i(75778),p=i(54521),_=i(4490),v=i(20129),y=i(85297),f=(i(12212),i(25518),i(39710),i(24819),i(18574),i(81738),i(94814),i(22960),i(6989),i(54480),i(56389),i(67398),i(73742)),m=i(59048),b=i(7616),g=i(88245),k=i(28105),C=i(34394),Z=i(39884),w=i(36221),x=i(27831),E=i(6291),z=i(54614),$=(i(67801),i(96005),i(11992)),B=e([$]);$=(B.then?(await B)():B)[0];var S=function(e){function t(){var e;(0,p.Z)(this,t);for(var i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];return(e=(0,v.Z)(this,t,[].concat(a))).noAdd=!1,e.disabled=!1,e.required=!1,e._sortedLabels=(0,k.Z)(function(e,t,i){return null==e?void 0:e.map(function(e){return null==t?void 0:t[e]}).sort(function(e,t){return(0,w.$K)((null==e?void 0:e.name)||"",(null==t?void 0:t.name)||"",i)})}),e}return(0,y.Z)(t,e),(0,_.Z)(t,[{key:"open",value:(l=(0,d.Z)((0,h.Z)().m(function e(){var t;return(0,h.Z)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.updateComplete;case 1:return e.n=2,null===(t=this.labelPicker)||void 0===t?void 0:t.open();case 2:return e.a(2)}},e,this)})),function(){return l.apply(this,arguments)})},{key:"focus",value:(i=(0,d.Z)((0,h.Z)().m(function e(){var t;return(0,h.Z)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.updateComplete;case 1:return e.n=2,null===(t=this.labelPicker)||void 0===t?void 0:t.focus();case 2:return e.a(2)}},e,this)})),function(){return i.apply(this,arguments)})},{key:"hassSubscribe",value:function(){var e=this;return[(0,x.f4)(this.hass.connection,function(t){var i={};t.forEach(function(e){i[e.label_id]=e}),e._labels=i})]}},{key:"render",value:function(){var e=this,t=this._sortedLabels(this.value,this._labels,this.hass.locale.language);return(0,m.dy)(a||(a=(0,u.Z)([" "," ",' <ha-label-picker .hass="','" .helper="','" .disabled="','" .required="','" .placeholder="','" .excludeLabels="','" @value-changed="','"> </ha-label-picker> '])),this.label?(0,m.dy)(n||(n=(0,u.Z)(["<label>","</label>"])),this.label):m.Ld,null!=t&&t.length?(0,m.dy)(r||(r=(0,u.Z)(["<ha-chip-set> "," </ha-chip-set>"])),(0,g.r)(t,function(e){return null==e?void 0:e.label_id},function(t){var i=null!=t&&t.color?(0,C.I)(t.color):void 0;return(0,m.dy)(s||(s=(0,u.Z)([' <ha-input-chip .item="','" @remove="','" @click="','" .label="','" selected="selected" style="','"> '," </ha-input-chip> "])),t,e._removeItem,e._openDetail,null==t?void 0:t.name,i?"--color: ".concat(i):"",null!=t&&t.icon?(0,m.dy)(o||(o=(0,u.Z)(['<ha-icon slot="icon" .icon="','"></ha-icon>'])),t.icon):m.Ld)})):m.Ld,this.hass,this.helper,this.disabled,this.required,this.placeholder,this.value,this._labelChanged)}},{key:"_value",get:function(){return this.value||[]}},{key:"_removeItem",value:function(e){var t=e.currentTarget.item;this._setValue(this._value.filter(function(e){return e!==t.label_id}))}},{key:"_openDetail",value:function(e){var t,i=this,a=e.currentTarget.item;(0,z.T)(this,{entry:a,updateEntry:(t=(0,d.Z)((0,h.Z)().m(function e(t){return(0,h.Z)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,(0,x.$0)(i.hass,a.label_id,t);case 1:return e.a(2)}},e)})),function(e){return t.apply(this,arguments)})})}},{key:"_labelChanged",value:function(e){e.stopPropagation();var t=e.detail.value;t&&!this._value.includes(t)&&(this._setValue([].concat((0,c.Z)(this._value),[t])),this.labelPicker.value="")}},{key:"_setValue",value:function(e){var t=this;this.value=e,setTimeout(function(){(0,Z.B)(t,"value-changed",{value:e}),(0,Z.B)(t,"change")},0)}}]);var i,l}((0,E.f)(m.oi));S.styles=(0,m.iv)(l||(l=(0,u.Z)(["ha-chip-set{margin-bottom:8px}ha-input-chip{--md-input-chip-selected-container-color:var(--color, var(--grey-color));--ha-input-chip-selected-container-opacity:0.5;--md-input-chip-selected-outline-width:1px}label{display:block;margin:0 0 8px}"]))),(0,f.__decorate)([(0,b.Cb)({attribute:!1})],S.prototype,"hass",void 0),(0,f.__decorate)([(0,b.Cb)()],S.prototype,"label",void 0),(0,f.__decorate)([(0,b.Cb)({attribute:!1})],S.prototype,"value",void 0),(0,f.__decorate)([(0,b.Cb)()],S.prototype,"helper",void 0),(0,f.__decorate)([(0,b.Cb)()],S.prototype,"placeholder",void 0),(0,f.__decorate)([(0,b.Cb)({type:Boolean,attribute:"no-add"})],S.prototype,"noAdd",void 0),(0,f.__decorate)([(0,b.Cb)({type:Array,attribute:"include-domains"})],S.prototype,"includeDomains",void 0),(0,f.__decorate)([(0,b.Cb)({type:Array,attribute:"exclude-domains"})],S.prototype,"excludeDomains",void 0),(0,f.__decorate)([(0,b.Cb)({type:Array,attribute:"include-device-classes"})],S.prototype,"includeDeviceClasses",void 0),(0,f.__decorate)([(0,b.Cb)({type:Array,attribute:"exclude-label"})],S.prototype,"excludeLabels",void 0),(0,f.__decorate)([(0,b.Cb)({attribute:!1})],S.prototype,"deviceFilter",void 0),(0,f.__decorate)([(0,b.Cb)({attribute:!1})],S.prototype,"entityFilter",void 0),(0,f.__decorate)([(0,b.Cb)({type:Boolean})],S.prototype,"disabled",void 0),(0,f.__decorate)([(0,b.Cb)({type:Boolean})],S.prototype,"required",void 0),(0,f.__decorate)([(0,b.SB)()],S.prototype,"_labels",void 0),(0,f.__decorate)([(0,b.IO)("ha-label-picker",!0)],S.prototype,"labelPicker",void 0),S=(0,f.__decorate)([(0,b.Mo)("ha-labels-picker")],S),t()}catch(D){t(D)}})},92523:function(e,t,i){i.d(t,{Ft:function(){return a},S$:function(){return n},sy:function(){return r}});i(29694),i(75778);var a="timestamp",n="temperature",r="humidity"},14065:function(e,t,i){i.a(e,async function(e,a){try{i.r(t);var n,r,s,o,l,c,u,h,d=i(54982),p=i(29694),_=i(75778),v=i(54521),y=i(4490),f=i(20129),m=i(85297),b=(i(12212),i(20655),i(73742)),g=i(59048),k=i(7616),C=i(39884),Z=(i(12942),i(79160),i(28541)),w=(i(55245),i(4413)),x=i(55228),E=(i(37492),i(80032)),z=i(85993),$=i(95814),B=i(92523),S=i(72242),D=i(83378),A=e([Z,w,x,E]);[Z,w,x,E]=A.then?(await A)():A;var L={round:!1,type:"image/jpeg",quality:.75,aspectRatio:1.78},F=["sensor"],q=[B.S$],I=[B.sy],P=function(e){function t(){var e;(0,v.Z)(this,t);for(var i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];return(e=(0,f.Z)(this,t,[].concat(a)))._areaEntityFilter=function(t){var i=e.hass.entities[t.entity_id];if(!i)return!1;var a=e._params.entry.area_id;if(i.area_id===a)return!0;if(!i.device_id)return!1;var n=e.hass.devices[i.device_id];return n&&n.area_id===a},e}return(0,m.Z)(t,e),(0,y.Z)(t,[{key:"showDialog",value:(b=(0,_.Z)((0,p.Z)().m(function e(t){return(0,p.Z)().w(function(e){for(;;)switch(e.n){case 0:return this._params=t,this._error=void 0,this._params.entry?(this._name=this._params.entry.name,this._aliases=this._params.entry.aliases,this._labels=this._params.entry.labels,this._picture=this._params.entry.picture,this._icon=this._params.entry.icon,this._floor=this._params.entry.floor_id,this._temperatureEntity=this._params.entry.temperature_entity_id,this._humidityEntity=this._params.entry.humidity_entity_id):(this._name=this._params.suggestedName||"",this._aliases=[],this._labels=[],this._picture=null,this._icon=null,this._floor=null,this._temperatureEntity=null,this._humidityEntity=null),e.n=1,this.updateComplete;case 1:return e.a(2)}},e,this)})),function(e){return b.apply(this,arguments)})},{key:"closeDialog",value:function(){this._error="",this._params=void 0,(0,C.B)(this,"dialog-closed",{dialog:this.localName})}},{key:"_renderSettings",value:function(e){return(0,g.dy)(n||(n=(0,d.Z)([" ",' <ha-textfield .value="','" @input="','" .label="','" .validationMessage="','" required dialogInitialFocus></ha-textfield> <ha-icon-picker .hass="','" .value="','" @value-changed="','" .label="','"></ha-icon-picker> <ha-floor-picker .hass="','" .value="','" @value-changed="','" .label="','"></ha-floor-picker> <ha-labels-picker .hass="','" .value="','" @value-changed="','" .placeholder="','"></ha-labels-picker> <ha-picture-upload .hass="','" .value="','" crop select-media .cropOptions="','" @change="','"></ha-picture-upload> '])),e?(0,g.dy)(r||(r=(0,d.Z)([' <ha-settings-row> <span slot="heading"> ',' </span> <span slot="description"> '," </span> </ha-settings-row> "])),this.hass.localize("ui.panel.config.areas.editor.area_id"),e.area_id):g.Ld,this._name,this._nameChanged,this.hass.localize("ui.panel.config.areas.editor.name"),this.hass.localize("ui.panel.config.areas.editor.name_required"),this.hass,this._icon,this._iconChanged,this.hass.localize("ui.panel.config.areas.editor.icon"),this.hass,this._floor,this._floorChanged,this.hass.localize("ui.panel.config.areas.editor.floor"),this.hass,this._labels,this._labelsChanged,this.hass.localize("ui.panel.config.areas.editor.add_labels"),this.hass,this._picture,L,this._pictureChanged)}},{key:"_renderAliasExpansion",value:function(){return(0,g.dy)(s||(s=(0,d.Z)([' <ha-expansion-panel outlined .header="','" expanded> <div class="content"> <p class="description"> ',' </p> <ha-aliases-editor .hass="','" .aliases="','" @value-changed="','"></ha-aliases-editor> </div> </ha-expansion-panel> '])),this.hass.localize("ui.panel.config.areas.editor.aliases_section"),this.hass.localize("ui.panel.config.areas.editor.aliases_description"),this.hass,this._aliases,this._aliasesChanged)}},{key:"_renderRelatedEntitiesExpansion",value:function(){return(0,g.dy)(o||(o=(0,d.Z)([' <ha-expansion-panel outlined .header="','" expanded> <div class="content"> <ha-entity-picker .hass="','" .label="','" .helper="','" .value="','" .includeDomains="','" .includeDeviceClasses="','" .entityFilter="','" @value-changed="','"></ha-entity-picker> <ha-entity-picker .hass="','" .label="','" .helper="','" .value="','" .includeDomains="','" .includeDeviceClasses="','" .entityFilter="','" @value-changed="','"></ha-entity-picker> </div> </ha-expansion-panel> '])),this.hass.localize("ui.panel.config.areas.editor.related_entities_section"),this.hass,this.hass.localize("ui.panel.config.areas.editor.temperature_entity"),this.hass.localize("ui.panel.config.areas.editor.temperature_entity_description"),this._temperatureEntity,F,q,this._areaEntityFilter,this._sensorChanged,this.hass,this.hass.localize("ui.panel.config.areas.editor.humidity_entity"),this.hass.localize("ui.panel.config.areas.editor.humidity_entity_description"),this._humidityEntity,F,I,this._areaEntityFilter,this._sensorChanged)}},{key:"render",value:function(){if(!this._params)return g.Ld;var e=this._params.entry,t=!this._isNameValid(),i=!e;return(0,g.dy)(l||(l=(0,d.Z)([' <ha-dialog open @closed="','" .heading="','"> <div> ',' <div class="form"> '," "," "," </div> </div> ",' <div slot="primaryAction"> <ha-button @click="','"> ',' </ha-button> <ha-button @click="','" .disabled="','"> '," </ha-button> </div> </ha-dialog> "])),this.closeDialog,(0,D.i)(this.hass,e?this.hass.localize("ui.panel.config.areas.editor.update_area"):this.hass.localize("ui.panel.config.areas.editor.create_area")),this._error?(0,g.dy)(c||(c=(0,d.Z)(['<ha-alert alert-type="error">',"</ha-alert>"])),this._error):"",this._renderSettings(e),this._renderAliasExpansion(),i?g.Ld:this._renderRelatedEntitiesExpansion(),i?g.Ld:(0,g.dy)(u||(u=(0,d.Z)(['<ha-button slot="secondaryAction" destructive @click="','"> '," </ha-button>"])),this._deleteArea,this.hass.localize("ui.common.delete")),this.closeDialog,this.hass.localize("ui.common.cancel"),this._updateEntry,t||this._submitting,e?this.hass.localize("ui.common.save"):this.hass.localize("ui.common.create"))}},{key:"_isNameValid",value:function(){return""!==this._name.trim()}},{key:"_nameChanged",value:function(e){this._error=void 0,this._name=e.target.value}},{key:"_floorChanged",value:function(e){this._error=void 0,this._floor=e.detail.value}},{key:"_iconChanged",value:function(e){this._error=void 0,this._icon=e.detail.value}},{key:"_labelsChanged",value:function(e){this._error=void 0,this._labels=e.detail.value}},{key:"_pictureChanged",value:function(e){this._error=void 0,this._picture=e.target.value}},{key:"_aliasesChanged",value:function(e){this._aliases=e.detail.value}},{key:"_sensorChanged",value:function(e){var t=e.target.includeDeviceClasses[0];this["_".concat(t,"Entity")]=e.detail.value||null}},{key:"_updateEntry",value:(a=(0,_.Z)((0,p.Z)().m(function e(){var t,i,a;return(0,p.Z)().w(function(e){for(;;)switch(e.n){case 0:if(t=!this._params.entry,this._submitting=!0,e.p=1,i={name:this._name.trim(),picture:this._picture||(t?void 0:null),icon:this._icon||(t?void 0:null),floor_id:this._floor||(t?void 0:null),labels:this._labels||null,aliases:this._aliases,temperature_entity_id:this._temperatureEntity,humidity_entity_id:this._humidityEntity},!t){e.n=3;break}return e.n=2,this._params.createEntry(i);case 2:e.n=4;break;case 3:return e.n=4,this._params.updateEntry(i);case 4:this.closeDialog(),e.n=6;break;case 5:e.p=5,a=e.v,this._error=a.message||this.hass.localize("ui.panel.config.areas.editor.unknown_error");case 6:return e.p=6,this._submitting=!1,e.f(6);case 7:return e.a(2)}},e,this,[[1,5,6,7]])})),function(){return a.apply(this,arguments)})},{key:"_deleteArea",value:(i=(0,_.Z)((0,p.Z)().m(function e(){var t;return(0,p.Z)().w(function(e){for(;;)switch(e.n){case 0:if(null!==(t=this._params)&&void 0!==t&&t.entry){e.n=1;break}return e.a(2);case 1:return e.n=2,(0,S.g7)(this,{title:this.hass.localize("ui.panel.config.areas.delete.confirmation_title",{name:this._params.entry.name}),text:this.hass.localize("ui.panel.config.areas.delete.confirmation_text"),dismissText:this.hass.localize("ui.common.cancel"),confirmText:this.hass.localize("ui.common.delete"),destructive:!0});case 2:if(e.v){e.n=3;break}return e.a(2);case 3:return e.n=4,(0,z.qv)(this.hass,this._params.entry.area_id);case 4:this.closeDialog();case 5:return e.a(2)}},e,this)})),function(){return i.apply(this,arguments)})}],[{key:"styles",get:function(){return[$.yu,(0,g.iv)(h||(h=(0,d.Z)(["ha-textfield{display:block}ha-expansion-panel{--expansion-panel-content-padding:0}ha-aliases-editor,ha-entity-picker,ha-expansion-panel,ha-floor-picker,ha-icon-picker,ha-labels-picker,ha-picture-upload{display:block;margin-bottom:16px}ha-dialog{--mdc-dialog-min-width:min(600px, 100vw)}.content{padding:12px}.description{margin:0 0 16px 0}"])))]}}]);var i,a,b}(g.oi);(0,b.__decorate)([(0,k.Cb)({attribute:!1})],P.prototype,"hass",void 0),(0,b.__decorate)([(0,k.SB)()],P.prototype,"_name",void 0),(0,b.__decorate)([(0,k.SB)()],P.prototype,"_aliases",void 0),(0,b.__decorate)([(0,k.SB)()],P.prototype,"_labels",void 0),(0,b.__decorate)([(0,k.SB)()],P.prototype,"_picture",void 0),(0,b.__decorate)([(0,k.SB)()],P.prototype,"_icon",void 0),(0,b.__decorate)([(0,k.SB)()],P.prototype,"_floor",void 0),(0,b.__decorate)([(0,k.SB)()],P.prototype,"_temperatureEntity",void 0),(0,b.__decorate)([(0,k.SB)()],P.prototype,"_humidityEntity",void 0),(0,b.__decorate)([(0,k.SB)()],P.prototype,"_error",void 0),(0,b.__decorate)([(0,k.SB)()],P.prototype,"_params",void 0),(0,b.__decorate)([(0,k.SB)()],P.prototype,"_submitting",void 0),customElements.define("dialog-area-registry-detail",P),a()}catch(N){a(N)}})},8504:function(e,t,i){var a=i(86840),n=Math.floor;e.exports=Number.isInteger||function(e){return!a(e)&&isFinite(e)&&n(e)===e}},35385:function(e,t,i){i(77341)({target:"Number",stat:!0},{isInteger:i(8504)})},28177:function(e,t,i){i.d(t,{C:function(){return b}});var a=i(29694),n=i(75778),r=i(54521),s=i(4490),o=i(67063),l=i(20129),c=i(85297),u=(i(70021),i(87622),i(81738),i(29981),i(54480),i(1455),i(35340)),h=i(5277),d=i(93847);i(73249),i(84730),i(15411),i(79133),i(40777),i(26847),i(48694),i(27530);var p=function(){return(0,s.Z)(function e(t){(0,r.Z)(this,e),this.G=t},[{key:"disconnect",value:function(){this.G=void 0}},{key:"reconnect",value:function(e){this.G=e}},{key:"deref",value:function(){return this.G}}])}(),_=function(){return(0,s.Z)(function e(){(0,r.Z)(this,e),this.Y=void 0,this.Z=void 0},[{key:"get",value:function(){return this.Y}},{key:"pause",value:function(){var e,t=this;null!==(e=this.Y)&&void 0!==e||(this.Y=new Promise(function(e){return t.Z=e}))}},{key:"resume",value:function(){var e;null!==(e=this.Z)&&void 0!==e&&e.call(this),this.Y=this.Z=void 0}}])}(),v=i(83522),y=function(e){return!(0,h.pt)(e)&&"function"==typeof e.then},f=1073741823,m=function(e){function t(){var e;return(0,r.Z)(this,t),(e=(0,l.Z)(this,t,arguments))._$Cwt=f,e._$Cbt=[],e._$CK=new p((0,o.Z)(e)),e._$CX=new _,e}return(0,c.Z)(t,e),(0,s.Z)(t,[{key:"render",value:function(){for(var e,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return null!==(e=i.find(function(e){return!y(e)}))&&void 0!==e?e:u.Jb}},{key:"update",value:function(e,t){var i=this,r=this._$Cbt,s=r.length;this._$Cbt=t;var o=this._$CK,l=this._$CX;this.isConnected||this.disconnected();for(var c,h=function(){var e=t[d];if(!y(e))return{v:(i._$Cwt=d,e)};d<s&&e===r[d]||(i._$Cwt=f,s=0,Promise.resolve(e).then(function(){var t=(0,n.Z)((0,a.Z)().m(function t(i){var n,r;return(0,a.Z)().w(function(t){for(;;)switch(t.n){case 0:if(!l.get()){t.n=2;break}return t.n=1,l.get();case 1:t.n=0;break;case 2:void 0!==(n=o.deref())&&(r=n._$Cbt.indexOf(e))>-1&&r<n._$Cwt&&(n._$Cwt=r,n.setValue(i));case 3:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}()))},d=0;d<t.length&&!(d>this._$Cwt);d++)if(c=h())return c.v;return u.Jb}},{key:"disconnected",value:function(){this._$CK.disconnect(),this._$CX.pause()}},{key:"reconnected",value:function(){this._$CK.reconnect(this),this._$CX.resume()}}])}(d.sR),b=(0,v.XM)(m)}}]);
//# sourceMappingURL=9465.df8aa3f52c1954f3.js.map