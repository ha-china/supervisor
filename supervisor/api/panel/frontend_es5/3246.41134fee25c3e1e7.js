"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["3246"],{12182:function(i,e,s){s.a(i,async function(i,a){try{s.r(e);var t,o,l,r,d,c,n=s(29694),h=s(75778),v=s(54982),u=s(54521),g=s(4490),m=s(20129),p=s(85297),_=(s(12212),s(24819),s(81738),s(6989),s(54480),s(73742)),k=s(59048),y=s(7616),f=s(28105),P=s(39884),b=(s(83378),s(69760),s(86633),s(6514)),D=s(31021),Z=s(43971),w=s(72242),z=s(95814),x=i([b]);b=(x.then?(await x)():x)[0];var A=(0,f.Z)(function(i){var e=""!==i.host.disk_life_time?30:10,s=1e3*i.host.disk_used/60/e,a=4*i.host.startup_time/60;return 10*Math.ceil((s+a)/10)}),B=function(i){function e(){var i;(0,u.Z)(this,e);for(var s=arguments.length,a=new Array(s),t=0;t<s;t++)a[t]=arguments[t];return(i=(0,m.Z)(this,e,[].concat(a))).moving=!1,i}return(0,p.Z)(e,i),(0,g.Z)(e,[{key:"showDialog",value:function(i){var e=this;this.dialogParams=i,(0,Z.ou)(this.hass).then(function(i){e.devices=i.devices})}},{key:"closeDialog",value:function(){this.dialogParams=void 0,this.selectedDevice=void 0,this.devices=void 0,this.moving=!1,(0,P.B)(this,"dialog-closed",{dialog:this.localName})}},{key:"render",value:function(){var i;return this.dialogParams?(0,k.dy)(t||(t=(0,v.Z)([' <ha-dialog open scrimClickAction escapeKeyAction .heading="','" @closed="','" ?hideActions="','"> '," </ha-dialog> "])),this.moving?this.dialogParams.supervisor.localize("dialog.datadisk_move.moving"):this.dialogParams.supervisor.localize("dialog.datadisk_move.title"),this.closeDialog,this.moving,this.moving?(0,k.dy)(o||(o=(0,v.Z)(['<ha-spinner aria-label="Moving" size="large"></ha-spinner> <p class="progress-text"> '," </p>"])),this.dialogParams.supervisor.localize("dialog.datadisk_move.moving_desc")):(0,k.dy)(l||(l=(0,v.Z)([" ",' <mwc-button slot="secondaryAction" @click="','" dialogInitialFocus> ',' </mwc-button> <mwc-button .disabled="','" slot="primaryAction" @click="','"> '," </mwc-button>"])),null!==(i=this.devices)&&void 0!==i&&i.length?(0,k.dy)(r||(r=(0,v.Z)([" ",' <br><br> <ha-select .label="','" @selected="','" dialogInitialFocus> '," </ha-select> "])),this.dialogParams.supervisor.localize("dialog.datadisk_move.description",{current_path:this.dialogParams.supervisor.os.data_disk,time:A(this.dialogParams.supervisor)}),this.dialogParams.supervisor.localize("dialog.datadisk_move.select_device"),this._selectDevice,this.devices.map(function(i){return(0,k.dy)(d||(d=(0,v.Z)(['<ha-list-item .value="','">',"</ha-list-item>"])),i,i)})):void 0===this.devices?this.dialogParams.supervisor.localize("dialog.datadisk_move.loading_devices"):this.dialogParams.supervisor.localize("dialog.datadisk_move.no_devices"),this.closeDialog,this.dialogParams.supervisor.localize("dialog.datadisk_move.cancel"),!this.selectedDevice,this._moveDatadisk,this.dialogParams.supervisor.localize("dialog.datadisk_move.move"))):k.Ld}},{key:"_selectDevice",value:function(i){this.selectedDevice=i.target.value}},{key:"_moveDatadisk",value:(s=(0,h.Z)((0,n.Z)().m(function i(){var e;return(0,n.Z)().w(function(i){for(;;)switch(i.n){case 0:return this.moving=!0,i.p=1,i.n=2,(0,Z.Sx)(this.hass,this.selectedDevice);case 2:i.n=4;break;case 3:i.p=3,e=i.v,this.hass.connection.connected&&!(0,D.yz)(e)&&((0,w.Ys)(this,{title:this.dialogParams.supervisor.localize("system.host.failed_to_move"),text:(0,D.js)(e)}),this.closeDialog());case 4:return i.a(2)}},i,this,[[1,3]])})),function(){return s.apply(this,arguments)})}],[{key:"styles",get:function(){return[z.Qx,z.yu,(0,k.iv)(c||(c=(0,v.Z)(["ha-select{width:100%}ha-spinner{display:block;margin:32px;text-align:center}.progress-text{text-align:center}"])))]}}]);var s}(k.oi);(0,_.__decorate)([(0,y.Cb)({attribute:!1})],B.prototype,"hass",void 0),(0,_.__decorate)([(0,y.SB)()],B.prototype,"dialogParams",void 0),(0,_.__decorate)([(0,y.SB)()],B.prototype,"selectedDevice",void 0),(0,_.__decorate)([(0,y.SB)()],B.prototype,"devices",void 0),(0,_.__decorate)([(0,y.SB)()],B.prototype,"moving",void 0),B=(0,_.__decorate)([(0,y.Mo)("dialog-hassio-datadisk")],B),a()}catch(S){a(S)}})}}]);
//# sourceMappingURL=3246.41134fee25c3e1e7.js.map